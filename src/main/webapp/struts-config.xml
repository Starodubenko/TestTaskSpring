<struts-config>

    <!-- Spring Struts plugin -->
    <plug-in className="org.springframework.web.struts.ContextLoaderPlugIn">
        <set-property property="contextConfigLocation" value="spring-config.xml"/>
    </plug-in>

    <form-beans>
        <form-bean name="operationForm" type="org.apache.struts.action.DynaActionForm">
            <form-property name="id" type="java.lang.Integer"/>
            <form-property name="title" type="java.lang.String"/>
            <form-property name="date" type="java.lang.String"/>
            <form-property name="brief" type="java.lang.String"/>
            <form-property name="content" type="java.lang.String"/>
            <form-property name="operationType" type="java.lang.String"/>
            <form-property name="delArray" type="java.lang.Boolean[]"/>
        </form-bean>

        <form-bean name="localeForm" type="org.apache.struts.action.DynaActionForm">
            <form-property name="locale" type="java.lang.String"/>
        </form-bean>
    </form-beans>

    <global-forwards type="org.apache.struts.action.ActionForward">
        <forward name="news" path="/news.do" redirect="true"/>
        <forward name="news-list" path="/news-list.do" redirect="true"/>
        <forward name="news-view" path="/news-view.do" redirect="true"/>
        <forward name="add-news" path="/add-news.do" redirect="true"/>
        <!--<forward   name="searchSubmit"  path="/searchSubmit.do"/>-->
    </global-forwards>

    <action-mappings>
        <action name="operationForm"
                path="/submit-form"
                type="com.epam.testapp.presentation.action.NewsOperationAction"
                validate="false">
            <forward name="success" path="/news-list.do"/>
        </action>

        <action path="/news-list"
                type="com.epam.testapp.presentation.action.ShowNewsListAction">
            <forward name="success" path="/WEB-INF/NewsList.jsp"/>
        </action>
        <action path="/news-view"
                type="com.epam.testapp.presentation.action.ShowNewsViewAction">
            <forward name="success" path="/WEB-INF/NewsView.jsp"/>
        </action>
        <action path="/news"
                type="com.epam.testapp.presentation.action.ShowNewsAction">
            <forward name="success" path="/WEB-INF/News.jsp"/>
        </action>
        <action path="/add-news"
                type="com.epam.testapp.presentation.action.ShowNewsAction">
            <forward name="success" path="/news.do"/>
        </action>

        <action path="/change-locale"
                name="localeForm"
                validate="false"
                type="com.epam.testapp.presentation.action.ChangeLocaleAction" parameter="language">
            <forward name="success" path="/" redirect="true"/>
        </action>

        <bean id="messageSource"
                class="org.springframework.context.support.ReloadableResourceBundleMessageSource">
            <property name="basename" value="classpath:message"/>
            <property name="defaultEncoding" value="UTF-8"/>
        </bean>

        <bean id="localeResolver"
              class="org.springframework.web.servlet.i18n.CookieLocaleResolver">
            <property name="defaultLocale" value="en"/>
        </bean>

        <bean id="localeChangeInterceptor"
              class="org.springframework.web.servlet.i18n.LocaleChangeInterceptor">
            <property name="parameterName" value="language"/>
        </bean>

        <bean id="handlerMapping"
              class="org.springframework.web.servlet.mvc.annotation.DefaultAnnotationHandlerMapping">
            <property name="interceptors">
                <ref bean="localeChangeInterceptor"/>
            </property>
        </bean>


        <!--<action    path="/searchEntry" forward="/WEB-INF/pages/search.jsp"/>-->
        <!--<action    path="/searchSubmit"-->
        <!--type="ca.nexcel.books.actions.SearchSubmit"-->
        <!--input="/searchEntry.do"-->
        <!--validate="true"-->
        <!--name="searchForm">-->
        <!--<forward name="success" path="/WEB-INF/pages/detail.jsp"/>-->
        <!--<forward name="failure" path="/WEB-INF/pages/search.jsp"/>-->
        <!--</action>-->

    </action-mappings>
    <message-resources parameter="message"/>
</struts-config>
